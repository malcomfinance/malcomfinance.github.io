<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <meta name="theme-color" content="#0b0f1a" />
  <link rel="icon" href="assets/favicon.ico" />

  <style>
    :root {
      --bg: #0b0f1a;
      --card: #0f172a;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --accent: #22d3ee;
      --accent-2: #8b5cf6;
      --glass: rgba(255, 255, 255, 0.03);
      --radius: 12px;
      --shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
      --ok: #10b981;
      --error: #ef4444;
      --btn-size: 12px;
      --input-height: 44px;
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    .bi{
        color: white;
        font-size: inherit;
    }
    html, body {
      height: 100%;
      overflow-x: hidden;
    }
    
    body {
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      padding: 0;
      line-height: 1.5;
    }
        body {
            background-image: url('assets/9.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            filter: blur(1px);
            z-index: -1;
        }
        
        body {
            position: relative;
            z-index: 1;
            background-color: rgba(0, 0, 0, 0.3);
        }
        
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1px;
      background: black;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 100;
      border-bottom: 3px solid #404040;
    }
    .btn {
      padding: 10px 16px;
      border-radius: 10px;
      border: 1px solid var(--glass);
      background: black;
      color: var(--text);
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      min-height: 44px;
      display: none;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    main.layout {
      max-width: 1000px;
      width: 100%;
      margin: 18px auto;
      padding: 0 18px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      flex: 1;
    }
    
    .ai-panel {
      flex: 1;
      background: transparent;
      width: 100%;
      display: flex;
      flex-direction: column;
      min-height: 80vh;
    }
    
    .ai-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }
    
    .ai-header h1 {
      margin: 0;
      font-size: 24px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .status.locked {
      color: var(--error);
    }

    .ai-chat {
      flex: 1;
      overflow-y: auto;
      width: 100%;
      position: fixed;
      left: 0;
      height: 80vh;
      padding: 50px 10px;
      background: transparent;
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 100px;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) transparent;
    }
    
    .ai-chat::-webkit-scrollbar {
      width: 6px;
    }
    
    .ai-chat::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .ai-chat::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 3px;
    }
    
    .ai-chat .placeholder {
      color: var(--muted);
      text-align: center;
      padding: 40px 20px;
      font-style: italic;
    }

    .msg {
      max-width: 85%;
      padding: 14px 16px;
      box-shadow: var(--shadow);
      opacity: 0;
      transform: translateY(8px) scale(0.99);
      animation: msgIn 0.3s ease forwards;
      display: flex;
      flex-direction: column;
      gap: 8px;
      position: relative;
      line-height: 1.6;
    }
    .msg {
  max-width: 70%;
  padding: 14px 16px;
  margin: 8px 0;
  position: relative;
  word-wrap: break-word;
  line-height: 1.5;
  font-size: 15px;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
}

    
    .msg.user {
      align-self: flex-end;
      background: #ffffff17;
      color: white;
      border: 1px solid #ffffff46;
      border-radius: 20px 0 20px 20px;
    }
    
    .msg.ai {
      align-self: flex-start;
      background: #00000091;
      color: white;
      border-radius: 0 20px 20px 20px;
      border: 1px solid #404040;
    }
    
    .msg.system {
      align-self: center;
      background: transparent;
      color: var(--muted);
      box-shadow: none;
      font-size: 13px;
      text-align: center;
      display: none;
    }

    .msg-header {
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 4px;
    }
    
    .msg-header .label {
      font-weight: 600;
      font-size: 14px;
      opacity: 0.8;
    }
    
    .msg-actions {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    
    .msg-actions button {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.03);
      color: var(--muted);
      padding: 6px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      font-size: 12px;
    }
    
    .msg-actions button:hover {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text);
    }
    
    .msg pre {
      white-space: pre-wrap;
      overflow-x: auto;
      background: rgba(0, 0, 0, 0.25);
      padding: 12px;
      border-radius: 8px;
      color: #dbeafe;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 13px;
      margin: 8px 0;
    }
    
    .msg code {
      background: black;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 13px;
    }

    .input-container {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, black, black, black, black, transparent);
      padding-bottom: 0;
      z-index: 100;
    }

    .ai-input {
      display: flex;
      gap: 12px;
      align-items: flex-end;
      width: 100%;
    }
    
    .input-wrapper {
      position: relative;
      flex: 1;
    }
    
    textarea#askAiInput {
      width: 100%;
      min-height: 30px;
      max-height: 200px;
      padding: 14px 16px;
      padding-right: 50px;
      border-radius: 10px;
      border: 1px solid #404040;
      background: transparent;
      color: var(--text);
      font-size: 15px;
      line-height: 1.5;
      font-family: inherit;
      resize: none;
      outline: none;
      transition: all 0.2s ease;
      overflow-y: auto;
      scrollbar-width: thin;
      margin-bottom: 0;
      
    }
    textarea::placeholder{
        color: #acacac;
    }
    textarea#askAiInput:focus {
      border-color: white;
      background: black;
    }
    
    .send-button-inside {
      position: absolute;
      right: 8px;
      top: 8px;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      background: none;
      backdrop-filter: blur(20px);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      z-index: 10;
      transition: all 0.2s ease;
      font-size: 1.2em;
    }
    
    .input-actions {
      display: none;
      flex-direction: column;
      gap: 8px;
      width: auto;
    }
    
    .send-row {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    @media (max-width: 768px) {
      .ai-header {
        flex-direction: column;
        gap: 12px;
      }
      
      .status {
        align-self: flex-start;
      }
      
      .msg {
        max-width: 90%;
      }
      
      .ai-panel {
        padding: 16px;
      }
    }

    @media (max-width: 480px) {
      header {
        padding: 10px 14px;
      }
      
      main.layout {
        padding: 0 14px;
        margin: 12px auto;
      }
      
      .ai-panel {
        padding: 14px;
      }
      
      .btn {
        padding: 10px 14px;
        min-height: 44px;
      }
      
      .btn.icon {
        min-width: 44px;
      }
      
      textarea#askAiInput {
        padding: 12px 14px;
        font-size: 16px;
      }
      
      .input-container {
        padding: 20px 10px;
        padding-bottom: 1px;
      }
      
      .ai-chat {
        margin-bottom: 120px;
      }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    
    @keyframes msgIn {
      to {
        opacity: 1;
        transform: none;
      }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
  </style>
</head>
<body>
  <header>
    <div class="brand" onclick="alert('Hello there üëã,\nMy name is Malcom Copilot, \nAm a Customer care service provider at Malcom Finance, feel free to aks me anything you feel like.\nYour dreams matter.')">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bluesky" viewBox="0 0 16 16"> <path d="M3.468 1.948C5.303 3.325 7.276 6.118 8 7.616c.725-1.498 2.698-4.29 4.532-5.668C13.855.955 16 .186 16 2.632c0 .489-.28 4.105-.444 4.692-.572 2.04-2.653 2.561-4.504 2.246 3.236.551 4.06 2.375 2.281 4.2-3.376 3.464-4.852-.87-5.23-1.98-.07-.204-.103-.3-.103-.218 0-.081-.033.014-.102.218-.379 1.11-1.855 5.444-5.231 1.98-1.778-1.825-.955-3.65 2.28-4.2-1.85.315-3.932-.205-4.503-2.246C.28 6.737 0 3.12 0 2.632 0 .186 2.145.955 3.468 1.948"/> </svg> <b>MALCOM COPILOT</b>
    </div>
    <div class="header-actions">
      <button id="aboutBtn" aria-label="About" hidden><i class="bi bi-info-circle"></i>
      </button>
        <button id="clearBtn" title="Clear chat" aria-label="Clear chat">
          <style>
              #clearBtn{
                  font-size: 0.1em;
                  background: transparent;
                  border: none;
              }
          </style>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path fill="white" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
</svg>Ô∏è</button>
    </div>
  </header>

  <main class="layout" role="main">
    <section class="ai-panel" aria-label="Ask Luminux AI">
      <div hidden>
        <div>
          <h1>Ask Luminux XD Hacker AI</h1>
          <p class="muted">Concise by default, detailed on request</p>
        </div>
        <div class="status" id="aiStatus" aria-live="polite">
          <span>‚úÖ</span> Ready
        </div>
      </div>

      <div id="askAiChat" class="ai-chat" aria-live="polite" role="log">
        <div class="placeholder" hidden>Start a conversation with Luminux AI...</div>
      </div>
    </section>
  </main>

  <!-- Fixed Input Controls -->
  <div class="input-container">
    <div class="ai-input">
      <div class="input-wrapper">
        <textarea 
          id="askAiInput" 
          placeholder="Message" 
          aria-label="Ask Luminux AI"
          rows="1"
          spellcheck="true"
        ></textarea>
        
        <button id="sendBtnInside" class="send-button-inside" title="Send message" aria-label="Send message">
<i class="bi bi-arrow-up-circle"></i></button>
      </div>
      
      <div class="input-actions">
        <div class="send-row">
          <button id="attachBtn" class="btn icon" title="Attach file" aria-label="Attach file">üìé</button>
          <button id="detailBtn" class="btn icon" title="Detail level" aria-label="Detail level">‚öôÔ∏è</button>
          <button id="clearBtn" class="btn icon" title="Clear chat" aria-label="Clear chat" style="display: none;" hidden>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path fill="white" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
</svg>Ô∏è</button>
        </div>
      </div>
    </div>
  </div>

  <footer role="contentinfo">
    <p style="margin:0;font-size:12px">For educational purposes only. Use responsibly.</p>
  </footer>

  <!-- About Modal -->
  <div id="aboutModal" class="password-modal" style="display:none;">
    <div class="modal-content">
      <h3>About Luminux AI v4</h3>
      <p>Luminux AI v4 is an advanced AI assistant designed to provide detailed, comprehensive responses to user queries. It features enhanced formatting capabilities including code blocks, syntax highlighting, and rich text formatting.</p>
      <p>The system is configured to always provide detailed explanations, step-by-step reasoning, and practical examples for educational purposes.</p>
      <p>Version: 4.0<br>Developer: Thembeni Manganye</p>
      <div style="display:flex;gap:10px;margin-top:20px;">
        <button id="closeAbout" class="btn primary" style="flex:1">Close</button>
      </div>
    </div>
  </div>
  
  <script>
    let aiScript = null;

    // Initialize on load
    document.addEventListener('DOMContentLoaded', function() {
      // Enable all controls immediately
      unlockAI();
      setupEventListeners();
      
      // Auto-resize textarea
      const textarea = document.getElementById('askAiInput');
      textarea.addEventListener('input', autoResize);
      
      // Load AI script immediately
      loadAIScript();
    });
    
    function unlockAI() {
      // Enable all controls
      const controls = [
        'askAiInput',
        'sendBtnInside',
        'attachBtn',
        'detailBtn',
        'clearBtn'
      ];
      
      controls.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.disabled = false;
      });
      
      document.getElementById('askAiInput').placeholder = 'Ask Luminux AI anything...';
      document.getElementById('aiStatus').innerHTML = '<span>‚úÖ</span> Ready';
      document.getElementById('aiStatus').classList.remove('locked');
      
      // Update chat placeholder
      const chat = document.getElementById('askAiChat');
      const placeholder = chat.querySelector('.placeholder');
      if (placeholder) {
        placeholder.textContent = 'Start a conversation with Luminux AI...';
      }
    }
    
    function loadAIScript() {
      if (!aiScript) {
        aiScript = document.createElement('script');
        aiScript.src = 'ai.js';
        aiScript.defer = true;
        document.body.appendChild(aiScript);
      }
    }
    
    function setupEventListeners() {
      // About modal
      document.getElementById('aboutBtn').addEventListener('click', function() {
        document.getElementById('aboutModal').style.display = 'flex';
      });
      
      document.getElementById('closeAbout').addEventListener('click', function() {
        document.getElementById('aboutModal').style.display = 'none';
      });
      
      document.getElementById('aboutModal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.style.display = 'none';
        }
      });
      
      // Clear chat button
      document.getElementById('clearBtn').addEventListener('click', function() {
        if (confirm('Clear all messages?')) {
          const chat = document.getElementById('askAiChat');
          chat.innerHTML = '<div class="placeholder">Chat cleared</div>';
        }
      });
    }
    
    function addMessage(type, content, sender = 'System') {
      const chat = document.getElementById('askAiChat');
      const placeholder = chat.querySelector('.placeholder');
      
      if (placeholder) {
        placeholder.remove();
      }
      
      const msgDiv = document.createElement('div');
      msgDiv.className = `msg ${type}`;
      msgDiv.innerHTML = `
        <div class="msg-header">
          <span class="label">${sender}</span>
          <div class="msg-actions">
            <button title="Copy" onclick="copyToClipboard(this)">üìã</button>
          </div>
        </div>
        <div class="msg-content">${content}</div>
      `;
      
      chat.appendChild(msgDiv);
      chat.scrollTop = chat.scrollHeight;
    }
    
    function autoResize() {
      const textarea = this;
      textarea.style.height = 'auto';
      textarea.style.height = (textarea.scrollHeight) + 'px';
    }
    
    function copyToClipboard(button) {
      const content = button.closest('.msg').querySelector('.msg-content').textContent;
      navigator.clipboard.writeText(content).then(() => {
        const original = button.textContent;
        button.textContent = '‚úì';
        setTimeout(() => {
          button.textContent = original;
        }, 2000);
      });
    }
    
    // Export for debugging
    window.luminuxAuth = {
      unlockAI,
      loadAIScript
    };
  </script>
</body>
</html>